<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

	<title>Cory</title>
	<subtitle>Cory Crowley&#39;s Posts</subtitle>
	
	<link href="https://corycrowley.me/feed/feed.xml" rel="self"/>
	<link href="https://corycrowley.me"/>
	<updated>2020-10-19T00:00:00+00:00</updated>
	<id>https://corycrowley.me</id>
	<author>
		<name>Cory Crowley</name>
		<email>ccrowley96@gmail.com</email>
	</author>
	
	<entry>
		<title>Interviewing @ Microsoft</title>
		<link href="https://corycrowley.me/posts/microsoft-interview/"/>
		<updated>2018-10-24T00:00:00+00:00</updated>
		<id>https://corycrowley.me/posts/microsoft-interview/</id>
		<content type="html">&lt;blockquote&gt;
&lt;p&gt;Holy hot damn salami. I had ten days before the biggest interview in my life.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&quot;how-i-ended-up-at-microsoft.&quot;&gt;How I ended up at Microsoft. &lt;a class=&quot;direct-link&quot; href=&quot;#how-i-ended-up-at-microsoft.&quot;&gt;#&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;In my first year of University, I submitted my 30 font resume with 0 relevant experience to a Microsoft recruiter at a campus event.  This somehow turned into an on campus interview several weeks later.  I was under the impression that I was applying for the &lt;em&gt;Explorer Program&lt;/em&gt;, an internship tailored for new University students with little technical experience, but unbeknownst to me, I was applying for the full software engineering internship.&lt;/p&gt;
&lt;p&gt;I made several &lt;strong&gt;yuuuge&lt;/strong&gt; mistakes during this interview.  First, I started coding out a solution without thinking about the problem or how to approach it.  Second, I chose to dive into the syntactic nightmare of a full Java class instead of pseudo coding or writing out a general algorithmic approach.  And lastly, I didn&#39;t ask for any clarification, such as: How is this data input to my function?  What should the function return? Etc...  I was wildy unprepared, sweating profusely, and extremely nervous given the weight of the internship.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;pro·fuse·ly&lt;/strong&gt; - adverb -&lt;br&gt;
to a great degree; in large amounts.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Needless to say, I didn&#39;t get any exciting calls.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Fast forward 2 years later.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;I get an email from a Microsoft recruiter asking to set up another on campus interview.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Ok, keep it cool Cory, deep breaths, you got this.  Time to show MS that you&#39;re dat coding boi.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;I show up to the interview slightly more confident than the last time.&lt;/p&gt;
&lt;p&gt;This time, I had some content on my resume.  Freelance web development work, involvement with the tech scene at Queen&#39;s, and my biggest project yet, a prototype for a &lt;a href=&quot;https://corycrowley.me/projects/qshare&quot;&gt;Queen&#39;s Rideshare platform&lt;/a&gt;, which I had been working on in the last few months.  The recruiter was very interested in the projects I was working on.  &lt;strong&gt;Score&lt;/strong&gt;.  After stumbling through a recursive tree traversal questions, pointer heavy and written in pure C, I completed the interview, convinced I had done just as poorly as the first time.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Learn Python, omg OMG learn Python - street smart software interview tips with detective J. J. Bittenbinder&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;A couple of weeks later, I received another email from Microsoft, I made it to the final round interviews, they were going to fly me out to Vancouver for a full software engineering interview.  Holy hot damn salami.  I had &lt;strong&gt;ten&lt;/strong&gt; days before the biggest interview in my life.&lt;/p&gt;
&lt;h3 id=&quot;preparing-for-the-interviews&quot;&gt;Preparing for the interviews &lt;a class=&quot;direct-link&quot; href=&quot;#preparing-for-the-interviews&quot;&gt;#&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;&lt;img src=&quot;https://corycrowley.me/img/MicrosoftPrep.png&quot; alt=&quot;Interview Prep&quot;&gt;&lt;/p&gt;
&lt;p&gt;It was midterm week of the hardest year in my University career, but I decided my time was better spent learning algorithms and preparing for this interview. I skipped the week of school, spent every day in the library, and made many study sheets like the image above.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;What I Studied&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Linked Lists&lt;/li&gt;
&lt;li&gt;Stacks &amp;amp; Queues&lt;/li&gt;
&lt;li&gt;Heaps&lt;/li&gt;
&lt;li&gt;ArrayLists&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;HashMaps&lt;/strong&gt; (most useful)&lt;/li&gt;
&lt;li&gt;Breadth &amp;amp; Depth First Search&lt;/li&gt;
&lt;li&gt;Sorting&lt;/li&gt;
&lt;li&gt;Recursion (scary)&lt;/li&gt;
&lt;li&gt;Big O Time Complexity&lt;/li&gt;
&lt;li&gt;Trees&lt;/li&gt;
&lt;li&gt;C++, C, Java&lt;/li&gt;
&lt;li&gt;String Manipulation&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;How I Studied&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;PRAMP Practice Interviews&lt;/li&gt;
&lt;li&gt;Hackerrank &amp;amp; Leetcode&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Cracking the Coding Interview&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;Algorithms &amp;amp; Data Structs. in C&lt;/li&gt;
&lt;li&gt;Practice interview questions on paper / whiteboard&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;the-interview-in-vancouver&quot;&gt;The interview in Vancouver &lt;a class=&quot;direct-link&quot; href=&quot;#the-interview-in-vancouver&quot;&gt;#&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;After exploring Vancouver for a day with my brother and friend Jake (who came up to visit me in Vancouver for the weekend), I walked just down the street from my hotel to the Microsoft office.  I sat in the waiting room with about 20 other nervous candidates flown in from all around Canada.  To this day, I still find the hardest thing about interviewing is getting control of your nerves.  Go easy on the caffeine, and do whatever calms your mind.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;De-stress walk on Vancouver Seawall.  October 22nd, 2017.&lt;/strong&gt;&lt;br&gt;
&lt;img src=&quot;https://corycrowley.me/img/seawall.jpg&quot; alt=&quot;Vancouver Seawall&quot;&gt;&lt;/p&gt;
&lt;p&gt;After what seemed like an eternity of distracted conversation, we were ushered into a large board room with free food and comfy chairs.  Then, one at a time, full-time engineers came into the room and called our names.  I had four 45-minute-long technical interviews.&lt;/p&gt;
&lt;p&gt;The first question was a trick question.  C&#39;mon dude.  I&#39;m so nervous, give ya boi a break. It was a math logic puzzle with no obvious answer (to me anyway).  If the test was to see how I reacted under problem solving pressure -- I failed.&lt;/p&gt;
&lt;p&gt;The question was to write a function that swapped the value of two variables using no extra memory i.e. know additional variables.  I was so nervous that I couldn&#39;t get my thoughts together to come up with, the, or any, solution.  After 30 minutes of confusion, the first interview finally ended.  By the end of the first interview, I was sure that I had failed the whole interview process.&lt;/p&gt;
&lt;p&gt;If you&#39;re interested, the answer to that question goes something like this.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;a = -2
b = 5

a = b - a // 7
b = b - a // -2
a = b + a // 5

a // 5
b // -2
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Using simple addition / subtraction, you can swap the value of two variables with no extra memory.  This seems obvious once you see it, but under pressure, it seemed near impossible.  &lt;strong&gt;It&#39;s hard to problem solve under pressure&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;The next two interviews went well.  They covered algorithms that I had prepared for and I was able to write out efficient solutions (&lt;em&gt;linear big O time complexity in computer manz talk&lt;/em&gt;).&lt;/p&gt;
&lt;p&gt;My final interview was with the lead developer of one of the most popular Xbox games.  Basically this guy was really, really smart.  He plunged to the depths of each area of my technical knowledge within minutes.  Every topic I mentioned was a new test of my knowledge.  He had an intimidating beard, wise, squinting eyes, and filled the room with his presence.  He recognized that my weakest area of algorithmic knowledge was recursion, so he asked a recursive questions.  Classic.  I managed to get 90% of the way to a solution before getting lost in the &lt;em&gt;&#39;base cases&#39;&lt;/em&gt; and infinite recursive calls.  He finally stepped in with a few pointers, and I finished the question.  He then asked a string manipulation question.  I approached the problem using a HashMap as the data structure for constant lookup time, thinking this would impress the video game genius.  Instead, he asked me to implement the hashing function for my HashMap instead of the original question.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;em&gt;Uh oh.  Keep it high level Cory, you don&#39;t know how to do this.&lt;/em&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;I gave the engineer an &lt;em&gt;are you smarter than a fifth grader&lt;/em&gt; level lesson on Hash functions and the magical insides of HashMaps.  And just as he was about to dive deeper, our time ran out.  I was going for the confident: &lt;em&gt;&lt;strong&gt;I might know what I&#39;m talking about&lt;/strong&gt;&lt;/em&gt; kind of vibe.&lt;/p&gt;
&lt;p&gt;I thanked all of the interviewers, packed my stuff up, and walked out of the building, thinking about all of the little mistakes I had made and what I should have done differently.  Thinking about the first question that I couldn&#39;t get, and how my nerves had taken over.  Thinking about the candidate  sitting next to me who was talking about how he had gone out last night, and about how easy all of the questions they were asking were (he didn&#39;t get the job).  I was &lt;strong&gt;sure&lt;/strong&gt; I didn&#39;t get the job.&lt;/p&gt;
&lt;p&gt;Seven days later I found out that I was going to be living and working in Vancouver for the four summer months.  I&#39;d been hired for the Microsoft Garage Internship, working on experimental Microsoft projects with some of the brightest technical minds across Canada.  I found out three days before my birthday.  This opportunity has changed my career and life.&lt;/p&gt;
&lt;h3 id=&quot;what-i-learned-in-the-process&quot;&gt;What I learned in the process &lt;a class=&quot;direct-link&quot; href=&quot;#what-i-learned-in-the-process&quot;&gt;#&lt;/a&gt;&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;Technical interviews are like finals.  You&#39;ll fail them unless you study.&lt;/li&gt;
&lt;li&gt;Practice, practice, practice.  Use LeetCode, study algorithm &amp;amp; data structure fundamentals, learn a language really well (I think I&#39;ll study Python for my next interview), and practice with friends - out loud and on whiteboards.&lt;/li&gt;
&lt;li&gt;Breathe.  During the interviews, do anything you can to control your nerves, talk through your process out loud, and never give up on a question.  When I interviewed, I felt so sure that I had failed the interviews, but I was hired all the same.  You often are doing better than you give yourself credit for.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;Pics of the 725 Granville St. Office&lt;/strong&gt;&lt;/p&gt;
</content>
	</entry>
	
	<entry>
		<title>Computer Engineering @ Queen&#39;s University</title>
		<link href="https://corycrowley.me/posts/computer-engineering/"/>
		<updated>2020-06-21T00:00:00+00:00</updated>
		<id>https://corycrowley.me/posts/computer-engineering/</id>
		<content type="html">&lt;p&gt;In June 2020, I graduated from Queen&#39;s University with a degree in Computer Engineering.  I wrote this in hopes that some current or future student will learn something from my experience.&lt;/p&gt;
&lt;h3 id=&quot;selecting-computer-engineering&quot;&gt;Selecting Computer Engineering &lt;a class=&quot;direct-link&quot; href=&quot;#selecting-computer-engineering&quot;&gt;#&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;Growing up, I was lucky to attend a couple of tech camps at Stanford University.  One on video game map design in Unreal Engine, and another on C++.  I was &lt;strong&gt;definitely&lt;/strong&gt; too young to appreciate either of these technologies, but even playing with such powerful tools inspired me.  From then on, I knew technology would be my path.&lt;/p&gt;
&lt;p&gt;In highschool, I took one Java course. I really liked building simple programs, and simple pong-like games. I was also exposed to a bit of Arduino programming - attempting to build an autonomous quadcopter in my &#39;maker&#39; class.  Like my exposure to Unreal Engine &amp;amp; C++ when I was younger, that hill was far too steep to climb with my level of experience. What excited me about tech &lt;strong&gt;was its difficulty&lt;/strong&gt;.  Building software became addicting to me.  I wanted to learn how to build these things, and how to build them well.&lt;/p&gt;
&lt;p&gt;Apart from my meager programming experience, I liked using Photoshop, playing video games, and computers in general. So, by the time I graduated from highschool, I knew I wanted to study technology.  I couldn&#39;t imagine another four years of vague subject matter.  I needed something concrete and specific to focus on,  something I liked to do.&lt;/p&gt;
&lt;p&gt;I started applying to my dream schools mostly in California, a few top schools in other states and UBC and Queen&#39;s in Canada. Being a dual citizen (US / Canadian) meant University would be much cheaper for me at Canadian schools. I applied to UBC and all other schools except Queen&#39;s for computer science, and applied for computer engineering at Queen&#39;s, without even knowing what computer engineering was - it just sounded more interesting than computer science.&lt;/p&gt;
&lt;p&gt;After months of waiting, hoping for good news, I found out that all of the schools I had applied to (Stanford, Harvard, Berkeley, UCLA, UCSD, UCSB) had turned down my applications - except for University of Washington and Queen&#39;s.  Of course, I was disappointed that I wasn&#39;t going to be a Stanford start-up billionaire, but ultimately one goes where one gets admitted.&lt;/p&gt;
&lt;p&gt;I chose to attend Queen&#39;s University in Kingston, Ontario Canada.  Largely because of my family connections there.  My grandfather was a Canadian engineering graduate, and his work inspired me. So I decided to study engineering 3000 miles away on the East Coast. It sounded challenging, and I felt up to the challenge.&lt;/p&gt;
&lt;h3 id=&quot;queen&#39;s-engineering&quot;&gt;Queen&#39;s Engineering &lt;a class=&quot;direct-link&quot; href=&quot;#queen&#39;s-engineering&quot;&gt;#&lt;/a&gt;&lt;/h3&gt;
&lt;h4 id=&quot;first-year&quot;&gt;First Year &lt;a class=&quot;direct-link&quot; href=&quot;#first-year&quot;&gt;#&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt;After making my way through FROSH week and the grease pole, I settled into the overwhelming nature of starting school in a new place.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&amp;quot;As part of Queen&#39;s Engineering Frosh Week, the incoming first-year engineering students must, with the help of the upper-year engineering students, climb to the top of a grease pole and remove a tam which is nailed to the pole&#39;s top. The Queen&#39;s Grease Pole is a metal football goalpost stolen by Queen&#39;s engineering students in 1955 from University of Toronto&#39;s Varsity Stadium. Currently, the pole is covered in lanolin and placed in the centre of a pit of muddy water referred to as the &amp;quot;Grease Pit&amp;quot;, but from the first climbing of the pole in 1956 to 1988 the pole was covered in axle grease.&amp;quot; - &lt;a href=&quot;http://skulepedia.ca/wiki/Queen%27s_Grease_Pole&quot; target=&quot;_blank&quot;&gt;more info&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&quot;https://corycrowley.me/img/computer-engineering/compeng1.JPG&quot; alt=&quot;Grease Pole Queen&#39;s University&quot;&gt;&lt;/p&gt;
&lt;p&gt;When I started studying engineering, I felt that I had made a mistake.  I was enrolled in Geology and Chemistry classes, exactly what I had hoped to avoid.  I wanted to learn to build software and to build it well.  Building software was nowhere in sight.&lt;/p&gt;
&lt;p&gt;The first year flew by.  I stumbled my way through Chemistry, Linear Algebra, and advanced Calculus - passing all my courses, but still lacking information on software development. That summer, I flew back to California and worked as a morning shift (6am-2pm) Juice Barista in a local grocery store.  One of the cooler jobs I&#39;ve had.&lt;/p&gt;
&lt;h4 id=&quot;second-year&quot;&gt;Second Year &lt;a class=&quot;direct-link&quot; href=&quot;#second-year&quot;&gt;#&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt;Come August, I flew back to Kingston for my second year before classes began. I had signed up to be a &#39;FREC&#39; - one of the engineering orientation week leaders.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&amp;quot;Engineering frosh group leader. Involves painting themselves purple (completely purple) with gentian and slamming a four hundred dollar jacket on the ground while screaming, &amp;quot;you&#39;re never going to be a year frosh, you&#39;re never going to climb the pole, you&#39;re never going to pass 112&amp;quot; - Urban Dictionary&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&quot;https://corycrowley.me/img/computer-engineering/compeng3.JPG&quot; alt=&quot;FREC&quot;&gt;&lt;br&gt;
&lt;img src=&quot;https://corycrowley.me/img/computer-engineering/compeng2.JPG&quot; alt=&quot;FREC&quot;&gt;&lt;/p&gt;
&lt;p&gt;I died my skin purple, sprayed my hair with red, yellow, and blue paint until it was rock hard, molded around 3 rubber chickens forming a mohawk, draped chains around my engineering jacket, and proceeded to welcome the incoming first years.  At the time, it seemed very normal, but looking back -- whaaaaat?  The Jury is still out on what using that much medical grade gentian die does when stained to your body.&lt;/p&gt;
&lt;p&gt;That year, I was living in a housing co-op, working as a breakfast chef, making eggs to order and pancakes. Most of the other students in the co-op were foreign exchange students.  The morning cooking shift was one of my highlights at Queen&#39;s.  I would put on &lt;a href=&quot;https://open.spotify.com/playlist/09gRN6vrMBmiZMu3ctF6Gc?si=ghgMY3gMSwW7Q7OzR0FUWA&quot; target=&quot;_blank&quot;&gt;this playlist&lt;/a&gt; every morning and make breakfast for cute girls from France, Germany, and the UK - what wasn&#39;t to like?&lt;/p&gt;
&lt;p&gt;That year, I started DJing and purchased some basic DJing equipment, a board, and studio monitors. In the co-op, there was an exchange student band called the Glasgow Kisses. Their drummer, Gavin, wanted me to DJ after their house party sets, so I started DJing at parties and events.  I&#39;ve curated &lt;strong&gt;tons&lt;/strong&gt; of setlists and playlists on &lt;a href=&quot;https://open.spotify.com/user/1221481626?si=DWj9T9HeTzONcssMVahCiQ&quot; target=&quot;_blank&quot;&gt;my spotify&lt;/a&gt;, and I&#39;ve made some of my own beats and mixes on &lt;a href=&quot;https://soundcloud.com/ccrowley96&quot; target=&quot;_blank&quot;&gt;my soundcloud&lt;/a&gt;.  DJing in my second and third years was another highlight.&lt;/p&gt;
&lt;p&gt;That year, my courses were heavily focused on electrical engineering. Electric circuits, electromagnetics, and electronics.  Trying to learn how transistors work and how electricity travels through transmission lines was, for me, a failed experiment.  Luckily, that year I also took a course on information structures and object oriented programming - my first glimpse into the world of computing.  Learning how to create binary trees, heaps, hash functions, linked lists, and more was exciting to me.  That year of electricity was enough to convince me that electrical engineering wasn&#39;t for me - too much imaginary math and &lt;strong&gt;way&lt;/strong&gt; to many equations.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://corycrowley.me/img/computer-engineering/compeng5.JPG&quot; alt=&quot;Electrical Engineering&quot;&gt;&lt;/p&gt;
&lt;p&gt;The summer after my second year, I tried to find a software internship. I had no relevant experience on my resume - except my mostly electrical engineering weighted coursework - which I found out was not enough.  So I went home to Northern California and decided to spend the summer learning what I had hoped my coursework would teach me.  I learnt how to make websites using HTML and CSS, I read &lt;a href=&quot;https://eloquentjavascript.net/&quot; target=&quot;_blank&quot;&gt;Eloquent JavaScript&lt;/a&gt; and practiced building small JS apps.  I built my first websites that summer: &lt;a href=&quot;http://qsconference.com/2018/&quot; target=&quot;_blank&quot;&gt;Queen&#39;s Space Conference Website&lt;/a&gt;, &lt;a href=&quot;http://quackandwabbit.com/&quot; target=&quot;_blank&quot;&gt;Quack and Wabbit Puppet Theatre Website&lt;/a&gt;, and the first iteration of my personal website.&lt;/p&gt;
&lt;h4 id=&quot;third-year&quot;&gt;Third Year &lt;a class=&quot;direct-link&quot; href=&quot;#third-year&quot;&gt;#&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt;After the summer, I went back to Queen&#39;s for my third year. I felt like flexing some of my new web development muscles so I got involved in some of Queen&#39;s conferences. I joined the &lt;a href=&quot;https://qhacks.io/&quot; target=&quot;_blank&quot;&gt;QHacks (Queen&#39;s Hackathon)&lt;/a&gt; team and helped create their website.  I joined the &lt;a href=&quot;https://qtma.ca/&quot; target=&quot;_blank&quot;&gt;Queen&#39;s Technology Media Association&lt;/a&gt; club and built that year&#39;s winning project, and my first big web application project &lt;a href=&quot;https://corycrowley.me/projects/qshare&quot; target=&quot;_blank&quot;&gt;QShare - a university ridesharing connector&lt;/a&gt;.  I joined Golden Words campus newspaper as a webmaster and re-designed &lt;a href=&quot;https://corycrowley.me/projects/goldenwords/&quot; target=&quot;_blank&quot;&gt;the Golden Words website&lt;/a&gt;.  I also worked as the tech coordinator the Queen&#39;s Space conference.&lt;/p&gt;
&lt;p&gt;This was too much to do.  It seemed like a full-time job, and I was taking 6 courses each semester along side these commitments.  I was overwhelmed, but set on building up an impressive resume and landing a summer internship.&lt;/p&gt;
&lt;p&gt;That fall, Microsoft recruiters came to campus and called me in for an interview. Most of the interview was focused on my recent projects, and the recruiter recommended me for the Microsoft Garage in Vancouver.  I wrote another &lt;a href=&quot;https://corycrowley.me/posts/microsoft-interview&quot; target=&quot;_blank&quot;&gt;post&lt;/a&gt; about that interview process if you&#39;re interested : )&lt;/p&gt;
&lt;p&gt;After landing an internship with the Microsoft Garage, I tried to focus again on my coursework.  My grades took a hard hit.  I was barely going to class, focused instead of my web projects.&lt;/p&gt;
&lt;p&gt;I managed to pass all of my exams, except computer networks, which, as it turned out, required that you attend class to pass.&lt;/p&gt;
&lt;p&gt;That year, I enjoyed studying algorithms, operating systems, databases, and machine vision, but the other eight courses bored me and again, made me regret choosing computer engineering.  Microprocessors, digital systems, and probability were no fun, not one little bit,  big ole nope.&lt;/p&gt;
&lt;p&gt;After bushwhacking my way through April&#39;s final exams, I flew to Vancouver to start my first software internship. It was amazing.  I&#39;d recommend the Microsoft Garage to any software students.  You select a project to work on, and have four months to build and user-test the product.  I worked on a &lt;a href=&quot;https://corycrowley.me/projects/microsoftgarage/&quot; target=&quot;_blank&quot;&gt;Holographic cancer cell visualizer &lt;/a&gt; on Microsoft HoloLens.&lt;/p&gt;
&lt;p&gt;After the summer, I felt more confident about my experience and more excited about technology than ever.  I had hoped to take a year off school, to look for more internships, but I didn&#39;t find a fall internship in time. Microsoft had also offered me another internship for the following summer at their headquarters in Redmond, so I returned to Queen&#39;s to finish my studies.&lt;/p&gt;
&lt;h4 id=&quot;fourth-year-%26-the-hackathons&quot;&gt;Fourth Year &amp;amp; the Hackathons &lt;a class=&quot;direct-link&quot; href=&quot;#fourth-year-%26-the-hackathons&quot;&gt;#&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt;In my fourth year at Queen&#39;s, I focused on hackathons.&lt;/p&gt;
&lt;p&gt;One of my first hackathons was Hack Harvard. Two electrical engineering friends, a commerce friend, and I (walk into a bar..) drove down to Boston.  We decided to build a networked multiplayer version of the classic snake video game using Unity.  After several hours of reading Unity docs online, it became fairly clear that our group was not capable of building a networked multiplayer version of the classic snake video game using Unity. We ended up with a version of snake with 2 snakes, we called it snake 2.&lt;/p&gt;
&lt;p&gt;My next hackathon was Hack Princeton with my friend Akin. After driving for 8 hours in a snow storm, we arrived in Princeton at 1am.  We were so tired that we fell asleep several hours later on chairs that we had pushed together.  For the next 24 hours, we furiously coded, building a minimum viable product (MVP) halfway through the second day, and a full working product (&lt;a href=&quot;https://corycrowley.me/projects/textnet/&quot; target=&quot;_blank&quot;&gt;textnet&lt;/a&gt;) by the second night.  The next morning, Akin and I got up in front of a crowd of students from all across America, and presented our project.  We ended up winning Second place overall, Best Design, Audience Choice, &lt;a href=&quot;https://twitter.com/Hacubu/status/1061706126033608704&quot; target=&quot;_blank&quot;&gt;Best use of StdLib&lt;/a&gt;, and over $800 in prizes, each.  Each time they called us up to accept a prize, we couldn&#39;t believe it. It was an honor and very cool experience.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://corycrowley.me/img/computer-engineering/compeng6.jpeg&quot; alt=&quot;Hack Princeton&quot;&gt;&lt;/p&gt;
&lt;p&gt;Textnet later became our engineering capstone project.&lt;/p&gt;
&lt;p&gt;Akin and I teamed up again (with two other computer engineering students Garrett, and Chris) for QHacks. At QHacks we built &lt;a href=&quot;https://corycrowley.me/projects/musicrowd/&quot; target=&quot;_blank&quot;&gt;MusiCrowd&lt;/a&gt;, a collaborative Spotify queue for parties. MusiCrowd won the grand prize at QHacks.&lt;/p&gt;
&lt;p&gt;These hackathons were much more memorable than my coursework.&lt;/p&gt;
&lt;p&gt;When the summer came, I drove north from my family&#39;s home in California towards the Microsoft campus in Redmond, WA. I interned for three months on the Azure Internet of Things Time Series Insights team - quite a mouthful.  I learned how to use the D3.js visualization library, all about SCSS, React, Redux, and best web practices. During the summer, I built an interactive scatterplot visualization and integrated the plot into my team&#39;s data explorer dashboard.&lt;/p&gt;
&lt;p&gt;I&#39;m returning to Azure IOT TSI to start full-time work as a Software Engineer in July 2020.&lt;/p&gt;
&lt;h4 id=&quot;fifth-year&quot;&gt;Fifth Year &lt;a class=&quot;direct-link&quot; href=&quot;#fifth-year&quot;&gt;#&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt;I returned to Queen&#39;s in fall of 2019 to complete my last semester of classes.  The highlight of this last semester was a game engine development course - CISC 486, which was fascinating.  We learned about game engine physics, networking, state machines, and AI.  It was my favorite course at Queen&#39;s.&lt;/p&gt;
&lt;h3 id=&quot;favorite-classes&quot;&gt;Favorite Classes &lt;a class=&quot;direct-link&quot; href=&quot;#favorite-classes&quot;&gt;#&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;I took 50 courses while studying at Queen&#39;s.  Of those, these courses were my favorite.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ELEC 278 - Fundamentals of Information Structures&lt;/li&gt;
&lt;li&gt;ELEC 299 - Mechatronics Project&lt;/li&gt;
&lt;li&gt;CMPE 332 - Databases&lt;/li&gt;
&lt;li&gt;ELEC 377 - Operating Systems&lt;/li&gt;
&lt;li&gt;ELEC 474 - Machine Vision&lt;/li&gt;
&lt;li&gt;CMPE 454 - Computer Graphics&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;CISC 486 - Game Engine Development&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;what-i-took-away-from-undergraduate-computer-engineering&quot;&gt;What I took away from Undergraduate Computer Engineering &lt;a class=&quot;direct-link&quot; href=&quot;#what-i-took-away-from-undergraduate-computer-engineering&quot;&gt;#&lt;/a&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Classes aren&#39;t enough.  Find a technology that you&#39;re interested in and learn it on your own.&lt;/li&gt;
&lt;li&gt;Work on your own projects, personal projects are more important than classes.&lt;/li&gt;
&lt;li&gt;Go to hackathons. Go to hackathons. Go to hackathons.&lt;/li&gt;
&lt;li&gt;Most of what you learn in Uni is useless; the earlier you realize that the better.&lt;/li&gt;
&lt;li&gt;Take it slow.  There is no rush to finish school.&lt;/li&gt;
&lt;li&gt;Do as many internships as you can.&lt;/li&gt;
&lt;/ul&gt;
</content>
	</entry>
	
	<entry>
		<title>Stackr: Arcade-Style Block Stacking Game</title>
		<link href="https://corycrowley.me/posts/stackr/"/>
		<updated>2020-06-28T00:00:00+00:00</updated>
		<id>https://corycrowley.me/posts/stackr/</id>
		<content type="html">&lt;p&gt;I&#39;ve been wanting to build an arcade-style block stacking game for a while.  I&#39;ve built multiple block stacking games in the past, first in pure Java, then in Unity 3D, but the previous games never had that arcade feel.&lt;/p&gt;
&lt;p&gt;What better time than covid quarantine?  This post is about building Stackr, a 2D block stacking game using Unity tilemaps.&lt;/p&gt;
&lt;h3 id=&quot;tilemaps&quot;&gt;Tilemaps &lt;a class=&quot;direct-link&quot; href=&quot;#tilemaps&quot;&gt;#&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;I recently discovered Unity &lt;a href=&quot;https://docs.unity3d.com/Manual/class-Tilemap.html&quot; target=&quot;_blank&quot;&gt;tilemaps&lt;/a&gt;.  They&#39;re great for grid based 2D games.  They allow you to paint sprites onto a 2D grid, layer them, and in my case, move them. I&#39;ve found they are a great starting point for 2D games and levels in Unity.&lt;/p&gt;
&lt;h3 id=&quot;creating-the-level&quot;&gt;Creating the Level &lt;a class=&quot;direct-link&quot; href=&quot;#creating-the-level&quot;&gt;#&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;The image below shows the starting Unity scene for Stackr. The scene is represented as a grid.  On the grid are three tilemaps: the walls, the player, and the ground.  Each of these tilemaps lets you easily paint new sprites into the scene, each constrained to the grid system shown.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://corycrowley.me/img/stackr/level.png&quot; alt=&quot;Level&quot;&gt;&lt;/p&gt;
&lt;h3 id=&quot;moving-the-player&quot;&gt;Moving the Player &lt;a class=&quot;direct-link&quot; href=&quot;#moving-the-player&quot;&gt;#&lt;/a&gt;&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;When programming, you can&#39;t always use a &#39;best practice&#39;. Make something that works and learn from your mistakes.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;I chose to represent the player as a tilemap to easily add and remove player blocks using the tile painting system. I then achieved player movement by moving the player&#39;s tilemap transform.&lt;/p&gt;
&lt;p&gt;To move the player tiles, I attached a &lt;code&gt;BlockController.cs&lt;/code&gt; script to the player tilemap.  In the &lt;code&gt;MonoBehaviour&lt;/code&gt; update loop, I added the following code:&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Player Movement Code&lt;/strong&gt;&lt;/p&gt;
&lt;pre class=&quot;language-csharp&quot;&gt;&lt;code class=&quot;language-csharp&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;float&lt;/span&gt;&lt;/span&gt; direction &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1f&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;float&lt;/span&gt;&lt;/span&gt; moveTimeout &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;.5f&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br&gt;&lt;br&gt;&lt;span class=&quot;token return-type class-name&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Update&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br&gt;    timeElapsed &lt;span class=&quot;token operator&quot;&gt;+=&lt;/span&gt; Time&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;deltaTime&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br&gt;&lt;br&gt;    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;timeElapsed &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; moveTimeout&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br&gt;        timeElapsed &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br&gt;        transform&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;position &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token constructor-invocation class-name&quot;&gt;Vector3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;transform&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;position&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;x &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; direction&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; transform&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;position&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;y&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; transform&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;position&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;z&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br&gt;    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Each moveTimeout seconds, this moves the player 1 unit to the right.&lt;/p&gt;
&lt;h3 id=&quot;collision-detection&quot;&gt;Collision Detection &lt;a class=&quot;direct-link&quot; href=&quot;#collision-detection&quot;&gt;#&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;Now, I need the player blocks to change direction when they reach the end of the grassy ground blocks. First, I need to add a rigidBody2D component to the player and a boxCollider2D component to both the player and the walls. Now, setting the wall box collider to trigger will notify the player when it collides with a wall.&lt;/p&gt;
&lt;p&gt;In the &lt;code&gt;BoxController.cs&lt;/code&gt;, I&#39;ll add this code:&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Collision Detection Code&lt;/strong&gt;&lt;/p&gt;
&lt;pre class=&quot;language-csharp&quot;&gt;&lt;code class=&quot;language-csharp&quot;&gt;&lt;span class=&quot;token return-type class-name&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;OnTriggerEnter2D&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Collider2D&lt;/span&gt; col&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br&gt;    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;col&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;gameObject&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;tag &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Wall&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br&gt;        direction &lt;span class=&quot;token operator&quot;&gt;*=&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br&gt;    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Now, when the player collides with the Wall tilemap, it will switch directions.  The Wall is an invisible box collider on either side of the grassy ground.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://corycrowley.me/img/stackr/collisions.gif&quot; alt=&quot;Collisions&quot;&gt;&lt;/p&gt;
&lt;h3 id=&quot;stacking-and-falling-blocks&quot;&gt;Stacking and Falling Blocks &lt;a class=&quot;direct-link&quot; href=&quot;#stacking-and-falling-blocks&quot;&gt;#&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;Now the hard part. When the user presses space (or touches on the screen on mobile), two actions occur.&lt;/p&gt;
&lt;p&gt;First, the player blocks should move up by one space.  When the player moves up, the previous block positions must be &lt;em&gt;cloned&lt;/em&gt;, leaving behind the previous position of the player.&lt;/p&gt;
&lt;p&gt;Next, If the blocks are misaligned when the user places the next level, the misaligned blocks need to fall away, leaving fewer player blocks. The GIF below shows this in action.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://corycrowley.me/img/stackr/blockStacking.gif&quot; alt=&quot;Block Stacking&quot;&gt;&lt;/p&gt;
&lt;p&gt;When the user presses space, first I check if the player is misaligned with the blocks below it using the &lt;strong&gt;trimStackr&lt;/strong&gt; function.&lt;/p&gt;
&lt;p&gt;Next, I clone the player blocks, disable the movement script on the clone, and move the player up by one.&lt;/p&gt;
&lt;p&gt;Lastly, I decrease the &lt;code&gt;moveTimeout&lt;/code&gt; variable to increase the speed at which the blocks bounce left and right.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Stacking and Falling Code&lt;/strong&gt;&lt;/p&gt;
&lt;pre class=&quot;language-csharp&quot;&gt;&lt;code class=&quot;language-csharp&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// Check for space press&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Input&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;GetKeyDown&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;KeyCode&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Space&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br&gt;    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;clone &lt;span class=&quot;token operator&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// Only trim player after first level&lt;/span&gt;&lt;br&gt;        &lt;span class=&quot;token comment&quot;&gt;// Check alignment &amp;amp; Trim player&lt;/span&gt;&lt;br&gt;        &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;transform&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;position&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;x &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; clone&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;transform&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;position&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;x&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br&gt;            &lt;span class=&quot;token function&quot;&gt;trimStackr&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;trimDirection&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;left&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;clone&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;transform&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;position&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;x &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; transform&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;position&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;x&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br&gt;        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;transform&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;position&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;x &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; clone&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;transform&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;position&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;x&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br&gt;            &lt;span class=&quot;token function&quot;&gt;trimStackr&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;trimDirection&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;right&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;transform&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;position&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;x &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; clone&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;transform&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;position&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;x&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br&gt;        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;br&gt;        tilemap&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;CompressBounds&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// Resize Tilemap&lt;/span&gt;&lt;br&gt;    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;br&gt;&lt;br&gt;    &lt;span class=&quot;token comment&quot;&gt;// Clone player blocks at location &amp;amp; disable controller script on clone&lt;/span&gt;&lt;br&gt;    clone &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Instantiate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;gameObject&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; transform&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;position&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; transform&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;rotation&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br&gt;    clone&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token generic-method&quot;&gt;&lt;span class=&quot;token function&quot;&gt;GetComponent&lt;/span&gt;&lt;span class=&quot;token generic class-name&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;BlockController&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;enabled &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br&gt;    clone&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;name &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;drop&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;dropCount&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br&gt;    &lt;span class=&quot;token comment&quot;&gt;// Set clone to be a member of the grid&lt;/span&gt;&lt;br&gt;    clone&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;transform&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;parent &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; grid&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;transform&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br&gt;&lt;br&gt;    &lt;span class=&quot;token comment&quot;&gt;// Raise player y by + 1&lt;/span&gt;&lt;br&gt;    transform&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;position &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token constructor-invocation class-name&quot;&gt;Vector3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;transform&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;position&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;x&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; transform&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;position&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;y &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; transform&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;position&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;z&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br&gt;&lt;br&gt;    &lt;span class=&quot;token comment&quot;&gt;// Decrease move timeout&lt;/span&gt;&lt;br&gt;    moveTimeout &lt;span class=&quot;token operator&quot;&gt;*=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;.7f&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The &lt;strong&gt;trimStackr&lt;/strong&gt; function does the magic here.  I&#39;m not sure tilemaps are intended to have their transforms moved like I do in this game, so figuring out how to properly trim the player blocks took a while.&lt;/p&gt;
&lt;p&gt;This function takes a direction indicating which side the misaligned blocks are on, and the number of misaligned blocks, both of which are calculated in the &lt;strong&gt;Stacking and Falling Code&lt;/strong&gt; code shown above.&lt;/p&gt;
&lt;p&gt;First the function checks if the player has lost, meaning it is trying to trim an amount greater than or equal to the amount of player blocks that exist.&lt;/p&gt;
&lt;p&gt;Next, if trimming from the left side, the function loops through the first [trimSize] tiles in the player&#39;s tilemap, starting at the tilemap origin (the leftmost block).  If trimming from the right side, this loop iterates backwards from the rightmost tile.&lt;/p&gt;
&lt;p&gt;For each misaligned tile, the code sets the tilemap&#39;s value to null at that tile&#39;s coordinates (erasing the tile) and calls a function to clone that tile and make it fall out of the world.  This results in the gameplay shown in the GIF above.&lt;/p&gt;
&lt;p&gt;Here&#39;s the code for that function:&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;trimStackr Function&lt;/strong&gt;&lt;/p&gt;
&lt;pre class=&quot;language-csharp&quot;&gt;&lt;code class=&quot;language-csharp&quot;&gt;&lt;span class=&quot;token return-type class-name&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;trimStackr&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;trimDirection&lt;/span&gt; dir&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt;&lt;/span&gt; trimSize&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br&gt;    &lt;span class=&quot;token comment&quot;&gt;// Check for lose condition&lt;/span&gt;&lt;br&gt;    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;trimSize &lt;span class=&quot;token operator&quot;&gt;&gt;=&lt;/span&gt; tilemap&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;size&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;x&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br&gt;        gameState &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; gameStates&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;gameOver&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br&gt;        &lt;span class=&quot;token comment&quot;&gt;// Set floating blocks to red&lt;/span&gt;&lt;br&gt;        tilemap&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;color &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Color&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;red&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br&gt;        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br&gt;    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;br&gt;    &lt;span class=&quot;token class-name&quot;&gt;Vector3Int&lt;/span&gt; trimTarget&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br&gt;    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;dir &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; trimDirection&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;left&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br&gt;        &lt;span class=&quot;token comment&quot;&gt;// Trim from origin&lt;/span&gt;&lt;br&gt;        &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt;&lt;/span&gt; i &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; i &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; trimSize&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; i &lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br&gt;            trimTarget &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token constructor-invocation class-name&quot;&gt;Vector3Int&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;tilemap&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;origin&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;x &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; i&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; tilemap&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;origin&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;y&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; tilemap&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;origin&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;z&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br&gt;            tilemap&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;SetTile&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;trimTarget&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br&gt;            &lt;span class=&quot;token function&quot;&gt;spawnAndTriggerFall&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;tilemap&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;GetCellCenterWorld&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;trimTarget&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br&gt;        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;br&gt;    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br&gt;        &lt;span class=&quot;token comment&quot;&gt;// Trim from origin + size, backwards&lt;/span&gt;&lt;br&gt;        &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt;&lt;/span&gt; i &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; i &lt;span class=&quot;token operator&quot;&gt;&amp;lt;=&lt;/span&gt; trimSize&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; i &lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br&gt;            trimTarget &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token constructor-invocation class-name&quot;&gt;Vector3Int&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;tilemap&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;origin&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;x &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; tilemap&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;size&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;x &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; i&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; tilemap&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;origin&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;y&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; tilemap&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;origin&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;z&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br&gt;            tilemap&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;SetTile&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;trimTarget&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br&gt;            &lt;span class=&quot;token function&quot;&gt;spawnAndTriggerFall&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;tilemap&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;GetCellCenterWorld&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;trimTarget&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br&gt;        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;br&gt;    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&quot;finishing-stackr&quot;&gt;Finishing Stackr &lt;a class=&quot;direct-link&quot; href=&quot;#finishing-stackr&quot;&gt;#&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;Now that stacking and falling blocks is working, the game is almost done!  To finish it up, I added two more Unity scenes: a win game scene which displays a congratulatory message, and a lose game screen which prompts the user to try again.  Both of these end game conditions display the game score which is calculated as the number of blocks successfully placed.&lt;/p&gt;
&lt;p&gt;The semi-finished game is shown below.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://corycrowley.me/img/stackr/stackr.gif&quot; alt=&quot;Stackr Complete&quot;&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;em&gt;Note: I&#39;ve left out sections of the game code for simplicity. There is additional code needed to handle declaration and instantiation of variables, sound effects, scoring, win / lose conditions, and scene changing.  If you&#39;re interested in the complete code, feel free to message me on social : )&lt;/em&gt;&lt;/p&gt;
&lt;/blockquote&gt;
</content>
	</entry>
	
	<entry>
		<title>npm run pls-build</title>
		<link href="https://corycrowley.me/posts/authoring-library/"/>
		<updated>2020-10-19T00:00:00+00:00</updated>
		<id>https://corycrowley.me/posts/authoring-library/</id>
		<content type="html">&lt;h2 id=&quot;tsiclient&quot;&gt;TsiClient &lt;a class=&quot;direct-link&quot; href=&quot;#tsiclient&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;After starting at Microsoft, one of my first projects was to update the build system for our team&#39;s front-end library, &lt;a href=&quot;https://github.com/microsoft/tsiclient&quot;&gt;TsiClient&lt;/a&gt;, a library for creating complex visualizations like the scatter plot below, easily.  If your interested in the tech behind this scatter plot, I wrote another post about that &lt;a href=&quot;https://corycrowley.me/projects/iot_tsi_internship/&quot;&gt;here&lt;/a&gt;&lt;/p&gt;
&lt;div id=&quot;tsi-root&quot; style=&quot;height: 400px;&quot;&gt;
&lt;/div&gt;
&lt;div&gt;
    &lt;label&gt;Time Slider&lt;/label&gt;
    &lt;select onchange=&quot;(function(){ toggleChartOption(&amp;quot;isTemporal&amp;quot;, (event.target.value === &amp;quot;true&amp;quot;)) })(event)&quot;&gt;
            &lt;option value=&quot;true&quot;&gt;true&lt;/option&gt;
            &lt;option value=&quot;false&quot; selected=&quot;&quot;&gt;false&lt;/option&gt;
    &lt;/select&gt;
&lt;/div&gt;
&lt;p&gt;This plot is created using these three lines of code&lt;br&gt;
&lt;img src=&quot;https://corycrowley.me/img/authoring-library/umd_script.png&quot; alt=&quot;Scatter plot&quot;&gt;&lt;/p&gt;
&lt;p&gt;Where data is an array of json time-series data, and chartOptions / chartDataOptions are objects specifying how you want the chart to look.&lt;/p&gt;
&lt;h2 id=&quot;what-we-started-with&quot;&gt;What we started with &lt;a class=&quot;direct-link&quot; href=&quot;#what-we-started-with&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;The scatter plot above is inserted into this page using a bundling technique know as &lt;a href=&quot;https://github.com/umdjs/umd&quot;&gt;Universal Module Definition (UMD)&lt;/a&gt;, which bundles the libary code into a single TsiClient.js file.  That file can then be included via script tag into this page.  Sounds great right?&lt;/p&gt;
&lt;p&gt;The problem is the size.  Including all of &lt;strong&gt;TsiClient.js&lt;/strong&gt; via UMD bundle creates a 2.2MB dependency for this page.  That&#39;s huge for just trying to create a scatter plot.  The red box on the image below shows that the external dependencies for this library are bloating the size.  That huuuuuge white square on the left shows the proportional size of an azure maps dependency that isn&#39;t even being used by the scatter plot.  Hmm, ok, so there&#39;s room for improvement.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://corycrowley.me/img/authoring-library/original-size.png&quot; alt=&quot;Original Size&quot;&gt;&lt;/p&gt;
&lt;p&gt;So, I did what any new front-end dev does when they have no idea what they&#39;re doing... I hit the blogs.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://corycrowley.me/img/authoring-library/tldr.png&quot; alt=&quot;.d.ts typings&quot;&gt;&lt;/p&gt;
&lt;p&gt;I read about code splitting (separating code into multiple bundles), webpack and rollup (bundling technologies), type declarations (bundling typing files with the library), and tree shaking.  Tree shaking is a buzzword in the world of bundling.  Imagine a tree that represents your code.  The healthy branches are the code that you actually need, while the dead branches are the code that isn&#39;t being used (like the maps dependency).  When you shake the tree, the dead branches (unused code) should fall out, leaving only the live branches (code being used).&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://corycrowley.me/img/authoring-library/bloggin.png&quot; alt=&quot;Just bloggin&quot;&gt;&lt;/p&gt;
&lt;p&gt;So I tried to implement some of the techniques I read about, but nothing was working.  Specifically, this syntax of tree shaking wasn&#39;t working.&lt;/p&gt;
&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;Scatterplot&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; LineChart&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&#39;tsiclient&#39;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;I had created an index file which exported references to each component in our library.  The blogs had promised that webpack would be smart enough to tree shake the library using the syntax above if the consumer only wanted to import certain components, opposed to the entire library.  Long story short, this wasn&#39;t working.  It would still bring in all of the unwanted dependencies, or, more frequenty, not work using this es-module (esm) syntax at all. Ok, so the magic of tree shaking wasn&#39;t working.  What else could I try?&lt;/p&gt;
&lt;p&gt;I switched over to Rollup.js - a bundling technology more suited to libraries.  I learned that there was an alternative to tree shaking called direct component imports.  That syntax looks like this.&lt;/p&gt;
&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; Linechart &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&#39;tsiclient/LineChart&#39;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; Scatterplot &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&#39;tsiclient/Scaterplot&#39;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Rather than relying on tree shaking to trace what code is actually touched, why not just bundle each component into it&#39;s own chunk, and only include that code if explicitly imported?  So that&#39;s exactly what I built.&lt;/p&gt;
&lt;h2 id=&quot;a-simple-example&quot;&gt;A simple example &lt;a class=&quot;direct-link&quot; href=&quot;#a-simple-example&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Here&#39;s an example of how this works.  In the image below, the left side represents a UMD build, while the right represents a multiple entry point build.  To make things simple, this diagram illustrates a simple library for converting string cases.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://corycrowley.me/img/authoring-library/umd_vs_direct.png&quot; alt=&quot;Multiple entry points&quot;&gt;&lt;/p&gt;
&lt;h3 id=&quot;umd&quot;&gt;UMD &lt;a class=&quot;direct-link&quot; href=&quot;#umd&quot;&gt;#&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;On the left, you can see all of the components bundled into a single file with one entry point, &lt;code&gt;main.js&lt;/code&gt;.  This technique is often useful if you need to include the library via script tag, or as a fallback for front-end / back-end apps which want to bring in the entire library.&lt;/p&gt;
&lt;h3 id=&quot;esm---direct-component-imports&quot;&gt;ESM - direct component imports &lt;a class=&quot;direct-link&quot; href=&quot;#esm---direct-component-imports&quot;&gt;#&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;On the right, you can see that the output is split into multiple entry points.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;main.js&lt;/code&gt; which has references to the entire library,&lt;/li&gt;
&lt;li&gt;&lt;code&gt;upperFirst.js&lt;/code&gt; which converts the first character of a string to uppercase and has a dependency on the &lt;code&gt;upper.js&lt;/code&gt; chunk&lt;/li&gt;
&lt;li&gt;&lt;code&gt;lower.js&lt;/code&gt; which exposes an entry point for lower casing functionality&lt;/li&gt;
&lt;li&gt;&lt;code&gt;upper.js&lt;/code&gt; which exposes the upper casing functionality.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The pink chunk shown at the bottom contains shared dependencies between multiple output chunks. It is also separated into its own chunk to eliminate any code duplication.&lt;/p&gt;
&lt;p&gt;So how does this work in practice?  Well, if I only need the code which converts strings to lowercase, I&#39;ll import the &lt;code&gt;lower.js&lt;/code&gt; entry point.  Something like this:&lt;/p&gt;
&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; lower &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&#39;casing/lower.js&#39;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;That will bring in the blue chunk and the pink chunk shown in the diagram above.  The entry file &lt;code&gt;lower.js&lt;/code&gt; has references to the files that it needs: &lt;code&gt;lowerChar.js&lt;/code&gt; and &lt;code&gt;constants.js&lt;/code&gt;, and &lt;code&gt;lowerChar.js&lt;/code&gt; has a reference to &lt;code&gt;shiftChar.js&lt;/code&gt; so that is also imported.&lt;/p&gt;
&lt;p&gt;So rather than importing the entire library, we just cut down this import to 4 files, only including what we actually use.&lt;/p&gt;
&lt;h2 id=&quot;type-declarations&quot;&gt;Type declarations &lt;a class=&quot;direct-link&quot; href=&quot;#type-declarations&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Last, but not least, I want to mention bundling type declaration files.&lt;/p&gt;
&lt;p&gt;When authoring a TypeScript library, it&#39;s important to include &lt;code&gt;.d.ts&lt;/code&gt; typing files with your bundles.  This will ensure that anyone using your library knows what parameters each function takes, how to properly construct your classes, and which types to pass around. Normally, when converting TypeScript code into JavaScript, the &lt;code&gt;.d.ts&lt;/code&gt; typing files will be nested into a directory structure which matches the source code (shown on left in image below).  This doesn&#39;t work well when emitting bundles.&lt;/p&gt;
&lt;p&gt;For the typings to be properly included into an application which consumes your library, the typing files must be in the same location, and with the same name as the bundled &lt;code&gt;.js&lt;/code&gt; files (shown on right in image below).  This ensures that any bundle you import will bring the associated typing file with it.  Luckily, there&#39;s an amazing &lt;a href=&quot;https://github.com/wessberg/rollup-plugin-ts&quot;&gt;Rollup plugin&lt;/a&gt; which does this for you.  Whew.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://corycrowley.me/img/authoring-library/typing.png&quot; alt=&quot;.d.ts typings&quot;&gt;&lt;/p&gt;
&lt;h2 id=&quot;sugar-on-top&quot;&gt;Sugar on top &lt;a class=&quot;direct-link&quot; href=&quot;#sugar-on-top&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Converting to an optimized, direct component import pattern significantly reduces the dependency size of including the TsiClient library in an application.  Here are some of the results.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://corycrowley.me/img/authoring-library/size_reduction.png&quot; alt=&quot;optimization results&quot;&gt;&lt;/p&gt;
&lt;p&gt;In the image above, on the left is the UMD, monolithic bundle approach, tested in a create-react-app, importing the LineChart.&lt;/p&gt;
&lt;p&gt;On the right, is the es-module direct component import approach, tested in a create-react-app, importing the LineChart.&lt;/p&gt;
&lt;p&gt;That&#39;s a 68% reduction in size!&lt;/p&gt;
&lt;p&gt;Here is a visualization of the optimized output bundles, where each colored square represents a different component of the library that can be directly imported.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://corycrowley.me/img/authoring-library/esm_viz.png&quot; alt=&quot;esm visualization&quot;&gt;&lt;/p&gt;
&lt;script src=&quot;https://unpkg.com/tsiclient@1.3.19/tsiclient.js&quot;&gt;&lt;/script&gt;
&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;https://unpkg.com/tsiclient@1.3.19/tsiclient.css&quot;&gt;
&lt;script&gt;
let data;
let chartDataOptions;
let scatterPlot;

// Set chart options
let chartOptions = {
    theme: &#39;light&#39;,
    yExtent: [0,1], 
    legend: screen.width &gt; 650 ? &#39;shown&#39; : &#39;compact&#39;, 
    offset: &#39;Local&#39;, 
    tooltip: true, 
    canDownload: false, 
    hideChartControlPanel: false, 
    is24HourTime: false, 
    singleLineXAxisLabel: &#39;&#39;,
    xAxisHidden: false, 
    yAxisHidden: false,
    includeDots: false,
    includeEnvelope: false,
    interpolationFunction: &#39;curveMonotoneX&#39;,
    yAxisState: &#39;stacked&#39;,
    brushHandlesVisible: false,
    snapBrush: false,
    stacked: false, 
    zeroYAxis: true,
    arcWidthRatio: 1,
    spMeasures: [&#39;avg&#39;, &#39;min&#39;, &#39;max&#39;],
    isTemporal: false,
    spAxisLabels: null
}

function toggleChartOption(property, value = null) {
    //if value is null, assume a toggle
    chartOptions[property] = (value === null) ? !chartOptions[property] : value; 
    scatterPlot.render(data, chartOptions, chartDataOptions);
}

window.onload = function(){
    // Create fake data
    data = [];
    let minute = 60*1000
    let from = new Date(Math.floor(new Date(new Date().valueOf() / minute)) * minute);
    let to;
    for(let i = 0; i &lt; 2; i++){
        let lines = {};
        data.push({[`Factory ${i}`]: lines});
        for(let j = 0; j &lt; 3; j++){
            let values = {};
            lines[`Sensor ${j}`] = values;
            for(let k = 0; k &lt; 10; k++){
                // if(!(k%2 &amp;&amp; k%3)){  // if check is to create some sparseness in the data
                    to = new Date(from.valueOf() + 1000*60*k);
                    let val = Math.random() / 2 + .25;
                    let minVal = val - (Math.random() / 10);
                    let maxVal = val + (Math.random() / 10);
                    values[to.toISOString()] = {avg: val, min: minVal, max: maxVal};
                // }
            } 
        }
    }
    
    
    let searchSpan = {
        from: from.toISOString(),
        to: to.toISOString(),
        bucketSize: &#39;1d&#39;
    }
    chartDataOptions = data.map(d =&gt; {
        return {searchSpan: searchSpan};
    });

    let tsiClient = new TsiClient(); // Create TsiClient
    scatterPlot = new tsiClient.ux.ScatterPlot(document.getElementById(&#39;tsi-root&#39;))
    scatterPlot.render(data, chartOptions, chartDataOptions); // Render Scatter
}
&lt;/script&gt;</content>
	</entry>


</feed>
